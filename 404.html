<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>404</title>
    <link rel="stylesheet" href="/style.css">
</head>
<body>
    <nav>
        <ul>
            <li><a is="a-route-to" href="/tag">f</a></li>
            <li><route-to href="/">home</route-to></li>
            <li><route-to href="/about">about</route-to></li>
            <li>
                <route-to class="non-linked">goods</route-to>
                <ul>
                    <li><route-to href="/goods/mom">ur mom</route-to></li>
                    <li><route-to href="/goods/school">school supplies</route-to></li>
                </ul>
            </li>
            <li>
                <route-to href="/tag">tag</route-to>
                <ul>
                    <li><route-to href="/tag/game">game</route-to></li>
                    <li><route-to href="/tag/movie">movie</route-to></li>
                    <li><route-to href="/tag/art">art</route-to></li>
                </ul>
            </li>
            
            <li><route-to class="non-exist" href="/non-existent-page">non-existent page</route-to></li>
        </ul>
        <route-to href="/git">git</route-to>
    </nav>
    <content startWith="/home" prefix="/pathtest">
        <h1 class="state">loading</h1>
        <object data="/img/loading.svg" type="image/svg+xml"></object>
    </content>

    <script type="module" src="/pathtest/modules/404Routing.js"></script>
    <script type="module">
        // import '/modules/404Routing.js'

        document.addEventListener('pageFetchingError', e => {
            const el = document.querySelector('.state')
            el.textContent = `404! ${window.location.pathname}`
        })
        document.addEventListener('onPageChanged', e => {
            const lastPage = document.querySelector('.activePage')
            if(lastPage) lastPage.classList.remove('activePage')
            document.querySelector(`[href='${e.detail.page}']`).classList.add('activePage')
        })
    </script>
</body>
</html>
